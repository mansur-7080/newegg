# Cart Service Environment Variables

# Database
CART_DATABASE_URL="postgresql://username:password@localhost:5432/ultramarket_carts"

# Service Configuration
PORT=3005
NODE_ENV="development"
SERVICE_NAME="cart-service"

# Redis (for caching and sessions)
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""
CART_SESSION_TTL=86400 # 24 hours in seconds

# External Services
AUTH_SERVICE_URL="http://localhost:3001"
TECH_PRODUCT_SERVICE_URL="http://localhost:3004"
STORE_SERVICE_URL="http://localhost:3003"
ANALYTICS_SERVICE_URL="http://localhost:3009"

# Cart Configuration
CART_EXPIRY_DAYS=30
MAX_CART_ITEMS=100
GUEST_CART_EXPIRY_HOURS=24
SAVED_ITEMS_LIMIT=50

# Wishlist Configuration
MAX_WISHLISTS_PER_USER=10
MAX_ITEMS_PER_WISHLIST=200
WISHLIST_SHARE_EXPIRY_DAYS=30

# Comparison Configuration
MAX_COMPARISON_ITEMS=5
COMPARISON_EXPIRY_HOURS=48

# Coupon Configuration
ENABLE_COUPONS=true
MAX_COUPONS_PER_CART=3
COUPON_VALIDATION_STRICT=true

# Abandonment Recovery
ENABLE_ABANDONMENT_TRACKING=true
ABANDONMENT_THRESHOLD_MINUTES=30
MAX_RECOVERY_EMAILS=3
RECOVERY_EMAIL_INTERVALS="1h,24h,72h"

# Price Validation
ENABLE_PRICE_VALIDATION=true
PRICE_TOLERANCE_PERCENT=5
AUTO_UPDATE_PRICES=true

# Inventory Validation
ENABLE_STOCK_VALIDATION=true
AUTO_REMOVE_OUT_OF_STOCK=false
RESERVE_STOCK_MINUTES=15

# Analytics
TRACK_CART_EVENTS=true
TRACK_ABANDONMENT=true
ANALYTICS_BATCH_SIZE=100

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000 # 15 minutes
RATE_LIMIT_MAX_REQUESTS=2000

# CORS
CORS_ORIGIN="http://localhost:3000,http://localhost:3001"

# Logging
LOG_LEVEL="info"
LOG_FILE="logs/cart-service.log"