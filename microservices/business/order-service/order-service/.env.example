# Order Service Environment Variables

# Database
ORDER_DATABASE_URL="postgresql://username:password@localhost:5432/ultramarket_orders"

# Service Configuration
PORT=3006
NODE_ENV="development"
SERVICE_NAME="order-service"

# Redis (for caching)
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=""

# External Services
AUTH_SERVICE_URL="http://localhost:3001"
CART_SERVICE_URL="http://localhost:3005"
STORE_SERVICE_URL="http://localhost:3003"
PAYMENT_SERVICE_URL="http://localhost:3008"
NOTIFICATION_SERVICE_URL="http://localhost:3010"
ANALYTICS_SERVICE_URL="http://localhost:3009"

# Order Configuration
ORDER_NUMBER_PREFIX="ULT"
ORDER_NUMBER_LENGTH=8
AUTO_CONFIRM_ORDERS=false
MAX_PROCESSING_TIME_HOURS=48

# Payment Configuration
PAYMENT_TIMEOUT_MINUTES=30
ALLOW_PARTIAL_PAYMENTS=false
AUTO_REFUND_FAILED_ORDERS=true

# Shipping Configuration
DEFAULT_SHIPPING_METHOD="standard"
FREE_SHIPPING_THRESHOLD=100000 # 100,000 UZS
ENABLE_SHIPPING_TRACKING=true

# Order Status
AUTO_UPDATE_STATUS=true
DELIVERY_CONFIRMATION_REQUIRED=false
SIGNATURE_REQUIRED_THRESHOLD=500000 # 500,000 UZS

# Cancellation & Returns
ALLOW_ORDER_CANCELLATION=true
CANCELLATION_DEADLINE_HOURS=24
ALLOW_RETURNS=true
RETURN_WINDOW_DAYS=14

# Notifications
SEND_ORDER_CONFIRMATION=true
SEND_SHIPPING_UPDATES=true
SEND_DELIVERY_NOTIFICATION=true
EMAIL_TEMPLATE_PATH="templates/emails"

# Invoice Configuration
GENERATE_INVOICES=true
INVOICE_NUMBER_PREFIX="INV"
PDF_INVOICE_GENERATION=true
INVOICE_STORAGE_PATH="invoices"

# Analytics & Reporting
ENABLE_ORDER_ANALYTICS=true
ANALYTICS_RETENTION_DAYS=365
GENERATE_DAILY_REPORTS=true

# Tax Configuration
DEFAULT_TAX_RATE=0.12 # 12%
ENABLE_TAX_CALCULATION=true
TAX_INCLUSIVE_PRICING=false

# Fraud Detection
ENABLE_FRAUD_DETECTION=true
FRAUD_SCORE_THRESHOLD=0.8
AUTO_HOLD_SUSPICIOUS_ORDERS=true

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000 # 15 minutes
RATE_LIMIT_MAX_REQUESTS=1500

# CORS
CORS_ORIGIN="http://localhost:3000,http://localhost:3001"

# Logging
LOG_LEVEL="info"
LOG_FILE="logs/order-service.log"