# ==================================
# UltraMarket Product Service Configuration
# ==================================

# Server Configuration
PORT=3003
HOST=localhost
NODE_ENV=development
APP_VERSION=1.0.0

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:3001,https://ultramarket.com

# Database Configuration (MongoDB)
MONGODB_URI=mongodb://localhost:27017/ultramarket-products
DB_MAX_POOL_SIZE=10
DB_SERVER_SELECTION_TIMEOUT=5000
DB_SOCKET_TIMEOUT=45000
DB_MIN_POOL_SIZE=1

# Redis Configuration (Caching)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_CONNECTION_TIMEOUT=5000
REDIS_COMMAND_TIMEOUT=3000

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_ISSUER=ultramarket-product-service
JWT_AUDIENCE=ultramarket-users

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# Request Size Limits
MAX_REQUEST_SIZE=10mb
MAX_JSON_SIZE=5mb
MAX_URL_ENCODED_SIZE=5mb

# File Upload Configuration
UPLOAD_MAX_FILE_SIZE=5242880
UPLOAD_MAX_FILES=10
UPLOAD_DESTINATION=./uploads
UPLOAD_TEMP_DIR=./temp

# Image Processing Configuration
IMAGE_MAX_WIDTH=2048
IMAGE_MAX_HEIGHT=2048
IMAGE_QUALITY=85
IMAGE_FORMAT=webp
THUMBNAIL_WIDTH=300
THUMBNAIL_HEIGHT=300

# Cache Configuration
CACHE_DEFAULT_TTL=300
CACHE_LONG_TTL=3600
CACHE_VERY_LONG_TTL=86400
CACHE_ENABLE_COMPRESSION=true

# Search Configuration
SEARCH_MIN_QUERY_LENGTH=2
SEARCH_MAX_QUERY_LENGTH=100
SEARCH_MAX_RESULTS=100
SEARCH_ENABLE_FUZZY=true

# Pagination Configuration
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100
MIN_PAGE_SIZE=1

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_ENABLE_CONSOLE=true
LOG_ENABLE_FILE=false
LOG_FILE_PATH=./logs/product-service.log
LOG_MAX_FILE_SIZE=10mb
LOG_MAX_FILES=5

# Monitoring Configuration
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_TIMEOUT=5000

# External Services Configuration
# User Service (for authentication)
USER_SERVICE_URL=http://localhost:3001
USER_SERVICE_TIMEOUT=5000

# Order Service (for inventory checks)
ORDER_SERVICE_URL=http://localhost:3004
ORDER_SERVICE_TIMEOUT=5000

# Notification Service
NOTIFICATION_SERVICE_URL=http://localhost:3005
NOTIFICATION_SERVICE_TIMEOUT=3000

# File Storage Configuration
STORAGE_TYPE=local
# For local storage
LOCAL_STORAGE_PATH=./uploads

# For AWS S3 (if using cloud storage)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=ultramarket-products
AWS_S3_PREFIX=products

# For Google Cloud Storage (if using)
GCP_PROJECT_ID=your-gcp-project
GCP_KEY_FILE_PATH=./config/gcp-service-account.json
GCS_BUCKET=ultramarket-products

# Email Configuration (for notifications)
EMAIL_SERVICE=smtp
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=noreply@ultramarket.com
SMTP_PASS=your-email-password

# Analytics Configuration
ANALYTICS_ENABLE=true
ANALYTICS_BATCH_SIZE=100
ANALYTICS_FLUSH_INTERVAL=60000

# Error Reporting Configuration
ERROR_REPORTING_ENABLE=true
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=development

# Performance Configuration
CLUSTER_MODE=false
CLUSTER_WORKERS=auto
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6

# Security Configuration
HELMET_CSP_ENABLE=true
HELMET_HSTS_ENABLE=true
HELMET_HSTS_MAX_AGE=31536000
HELMET_XFRAME_DENY=true

# API Documentation
SWAGGER_ENABLE=true
SWAGGER_TITLE=UltraMarket Product Service API
SWAGGER_DESCRIPTION=Professional product catalog and inventory management API
SWAGGER_VERSION=1.0.0

# Development Configuration
DEV_ENABLE_MOCK_DATA=false
DEV_SEED_DATABASE=false
DEV_RESET_DATABASE=false
DEV_ENABLE_DEBUG_ROUTES=false

# Testing Configuration
TEST_DATABASE_URI=mongodb://localhost:27017/ultramarket-products-test
TEST_REDIS_DB=1
TEST_PARALLEL_WORKERS=1
TEST_TIMEOUT=30000

# Production Specific Configuration
PRODUCTION_ENABLE_HTTPS_REDIRECT=true
PRODUCTION_TRUST_PROXY=true
PRODUCTION_SESSION_SECURE=true
PRODUCTION_COOKIE_SECURE=true

# Feature Flags
FEATURE_ADVANCED_SEARCH=true
FEATURE_REAL_TIME_INVENTORY=true
FEATURE_PRODUCT_RECOMMENDATIONS=true
FEATURE_BULK_OPERATIONS=true
FEATURE_INVENTORY_ALERTS=true
FEATURE_PRICE_TRACKING=true

# Backup Configuration
BACKUP_ENABLE=false
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_DESTINATION=./backups

# Load Balancer Configuration
LB_HEALTH_CHECK_PATH=/health
LB_READY_CHECK_PATH=/ready
LB_METRICS_PATH=/metrics

# Microservice Communication
SERVICE_DISCOVERY_ENABLE=false
SERVICE_REGISTRY_URL=http://localhost:8761
SERVICE_NAME=product-service
SERVICE_VERSION=1.0.0

# Message Queue Configuration (if using)
MESSAGE_QUEUE_TYPE=redis
RABBITMQ_URL=amqp://localhost:5672
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=product-service

# Audit Logging
AUDIT_LOG_ENABLE=true
AUDIT_LOG_LEVEL=info
AUDIT_LOG_INCLUDE_SENSITIVE=false
AUDIT_LOG_RETENTION_DAYS=90

# API Keys for Service-to-Service Communication
API_KEYS=service-key-1,service-key-2,service-key-3

# Timezone Configuration
TZ=UTC
DEFAULT_LOCALE=en-US
SUPPORTED_LOCALES=en-US,uz-UZ,ru-RU