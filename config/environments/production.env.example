# ==============================================
# UltraMarket Production Environment Variables
# ==============================================

# Node Environment
NODE_ENV=production

# ==============================================
# Database Configuration
# ==============================================

# PostgreSQL (Primary Database)
DATABASE_URL=postgresql://ultramarket_user:${DB_PASSWORD}@postgres-cluster:5432/ultramarket_production
POSTGRES_HOST=postgres-cluster
POSTGRES_PORT=5432
POSTGRES_DB=ultramarket_production
POSTGRES_USER=ultramarket_user
POSTGRES_PASSWORD=${DB_PASSWORD}

# MongoDB (Document Storage)
MONGODB_URI=mongodb://mongo-cluster:27017/ultramarket_production
MONGODB_HOST=mongo-cluster
MONGODB_PORT=27017
MONGODB_DB=ultramarket_production
MONGODB_USER=ultramarket_user
MONGODB_PASSWORD=${MONGO_PASSWORD}

# Redis (Cache & Sessions)
REDIS_URL=redis://redis-cluster:6379
REDIS_HOST=redis-cluster
REDIS_PORT=6379
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_DB=0

# Elasticsearch (Search Engine)
ELASTICSEARCH_URL=https://elasticsearch-cluster:9200
ELASTICSEARCH_HOST=elasticsearch-cluster
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=${ELASTIC_PASSWORD}

# ==============================================
# Application Configuration
# ==============================================

# API Gateway
API_GATEWAY_URL=https://api.ultramarket.uz
API_GATEWAY_PORT=3000

# Frontend URLs
FRONTEND_URL=https://ultramarket.uz
ADMIN_URL=https://admin.ultramarket.uz
MOBILE_URL=https://m.ultramarket.uz

# CORS Origins
CORS_ORIGIN=https://ultramarket.uz,https://admin.ultramarket.uz,https://m.ultramarket.uz

# ==============================================
# Microservices URLs
# ==============================================

# Core Services
AUTH_SERVICE_URL=http://auth-service:3001
USER_SERVICE_URL=http://user-service:3002
CONFIG_SERVICE_URL=http://config-service:3003
STORE_SERVICE_URL=http://store-service:3004

# Business Services
PRODUCT_SERVICE_URL=http://product-service:3010
CART_SERVICE_URL=http://cart-service:3011
ORDER_SERVICE_URL=http://order-service:3012
PAYMENT_SERVICE_URL=http://payment-service:3013
INVENTORY_SERVICE_URL=http://inventory-service:3014
REVIEW_SERVICE_URL=http://review-service:3015
SHIPPING_SERVICE_URL=http://shipping-service:3016

# Platform Services
SEARCH_SERVICE_URL=http://search-service:3020
ANALYTICS_SERVICE_URL=http://analytics-service:3021
NOTIFICATION_SERVICE_URL=http://notification-service:3022
FILE_SERVICE_URL=http://file-service:3023
CONTENT_SERVICE_URL=http://content-service:3024
AUDIT_SERVICE_URL=http://audit-service:3025

# ==============================================
# Security Configuration
# ==============================================

# JWT Configuration
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=ultramarket.uz
JWT_AUDIENCE=ultramarket-api

# Encryption
ENCRYPTION_KEY=${ENCRYPTION_KEY}
HASH_ROUNDS=12

# API Keys
API_KEY_SECRET=${API_KEY_SECRET}

# ==============================================
# O'zbekiston Payment Gateways
# ==============================================

# Click.uz
CLICK_MERCHANT_ID=${CLICK_MERCHANT_ID}
CLICK_SERVICE_ID=${CLICK_SERVICE_ID}
CLICK_SECRET_KEY=${CLICK_SECRET_KEY}
CLICK_USER_ID=${CLICK_USER_ID}
CLICK_ENDPOINT=https://api.click.uz/v2

# Payme.uz
PAYME_MERCHANT_ID=${PAYME_MERCHANT_ID}
PAYME_SECRET_KEY=${PAYME_SECRET_KEY}
PAYME_ENDPOINT=https://checkout.paycom.uz/api

# Apelsin.uz
APELSIN_MERCHANT_ID=${APELSIN_MERCHANT_ID}
APELSIN_SECRET_KEY=${APELSIN_SECRET_KEY}
APELSIN_ENDPOINT=https://api.apelsin.uz

# Uzcard
UZCARD_MERCHANT_ID=${UZCARD_MERCHANT_ID}
UZCARD_SECRET_KEY=${UZCARD_SECRET_KEY}
UZCARD_ENDPOINT=https://api.uzcard.uz

# ==============================================
# O'zbekiston SMS Services
# ==============================================

# ESKIZ.uz (Primary SMS)
ESKIZ_EMAIL=${ESKIZ_EMAIL}
ESKIZ_PASSWORD=${ESKIZ_PASSWORD}
ESKIZ_API_URL=https://notify.eskiz.uz/api

# Play Mobile (Backup SMS)
PLAYMOBILE_LOGIN=${PLAYMOBILE_LOGIN}
PLAYMOBILE_PASSWORD=${PLAYMOBILE_PASSWORD}
PLAYMOBILE_API_URL=https://api.playmobile.uz

# ==============================================
# Email Configuration
# ==============================================

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=${SMTP_USER}
SMTP_PASSWORD=${SMTP_PASSWORD}

# Email Settings
FROM_EMAIL=noreply@ultramarket.uz
FROM_NAME=UltraMarket

# ==============================================
# File Storage
# ==============================================

# MinIO S3 Compatible Storage
MINIO_ENDPOINT=storage.ultramarket.uz
MINIO_PORT=9000
MINIO_ACCESS_KEY=${MINIO_ACCESS_KEY}
MINIO_SECRET_KEY=${MINIO_SECRET_KEY}
MINIO_BUCKET=ultramarket-files
MINIO_USE_SSL=true

# CDN
CDN_URL=https://cdn.ultramarket.uz

# ==============================================
# Monitoring & Logging
# ==============================================

# Sentry Error Tracking
SENTRY_DSN=${SENTRY_DSN}
SENTRY_ENVIRONMENT=production

# Log Level
LOG_LEVEL=info

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# ==============================================
# Rate Limiting
# ==============================================

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000

# ==============================================
# SSL/TLS Configuration
# ==============================================

SSL_CERT_PATH=/etc/ssl/certs/ultramarket.crt
SSL_KEY_PATH=/etc/ssl/private/ultramarket.key

# ==============================================
# Backup Configuration
# ==============================================

BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=ultramarket-backups

# ==============================================
# Performance Configuration
# ==============================================

# Cache TTL (seconds)
CACHE_TTL=3600
SESSION_TTL=86400

# Connection Pools
DB_POOL_MIN=5
DB_POOL_MAX=20
REDIS_POOL_MIN=5
REDIS_POOL_MAX=50 